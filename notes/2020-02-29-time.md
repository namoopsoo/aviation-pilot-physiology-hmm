### 2020-02-29

#### Using this for measuring timing...
```

time python predict.py --test-loc history/2020-02-03T000055Z/test_balanced.h5 \
        --batch-size 32 \
        --model-loc history/2020-02-16T035758Z/epoch_001_batch_01760_model.h5  \
        --work-dir history/2020-02-29T2006Z \
        --eager

```

#### I tried a few different batch sizes and got few pretty cool results!
* So given the kaggle test set of 17.9million examples, that would have taken `25 hours` by my back of the envelope calculation , with the 56k examples/292 seconds
* And at the 56k examples/27s, thats more like `2.3hours` or so. 
```python
batchsize , seconds
32, 292
... # I tried 64, 256 too, but didn't write down the result.
1024, 27
2048, 26.8
```
* And I compared the loggloss outputs too and they were close to 3 digits of precision until `batch-size=1024` 
* So basically a clean win win here.

#### CPU usage and multiprocessing
* Only issue still was that monitoring the CPU usage, I would only see up to `100%` and not `200%`  , which is indeed odd even after I added the `multiprocessing` in commit `acaa4b`
* So with `4` processes to handle the input, they would just split the CPU as `25%`, `25%`, `25%`, `25%`, 


### 2020-03-07

#### approaching the full test set.
* need to first inspect the test data. Is it sequential or not at all? If not I basically cannot even use my algo on this.
* Got to split it into chunks, do my preprocessing: 
(1) _Make data:_ where I take a csv , extract my `8` features and window into my `64` units. And save pieces to `.h5` datasets.
(2) _Scaling:_ Apply my scalers (to all `8` features) and output to a new `blah-scaled.h5` dataset. 
(3) _Indexing and Overlapping Sequences:_ Somehow I got to maintain the indices without losing track, so the submission can be clean. The logical way of doing this is that  the corresponding label should be in the last row of the sequence. Might be a way to verify this. And of course the first `sixty three (64)` rows just dont get a prediction, or I can just give them random predictions.

